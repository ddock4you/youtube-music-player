(this["webpackJsonpyoutube-music-player"]=this["webpackJsonpyoutube-music-player"]||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(8),r=a.n(c),l=(a(30),a(10)),s=a.n(l),o=a(16),u=a(2),m=a(9),g=a.n(m),d=a(26),f=a(3),p=a(4),y=(a(63),a(17)),v=a.n(y),b=(a(39),a(80),function(e){var t=e.jacket,a=e.title,n=e.artist,c=e.id,r=e.addSearchItem;return i.a.createElement("div",{className:"search-music-item",onClick:function(){r(c)}},i.a.createElement("p",{className:"search-music-item--thumbnail"},i.a.createElement("img",{src:t.url,alt:a})),i.a.createElement("div",{className:"search-music-item--info"},i.a.createElement("p",{className:"search-music-item--info__title"},a),i.a.createElement("p",{className:"search-music-item--info__artist"},n)))}),h=function(e){var t=e.jacket,a=e.title,n=e.artist,c=e.id,r=e.getMovieInfo;return i.a.createElement(b,{jacket:t,title:a,artist:n,id:c,addSearchItem:function(e){alert(e),r(e)}})},E=function(e){var t=e.getMovieInfo,a=e.onSubmitSearch,c=e.searchValue,r=e.onChangeSearch,l=e.searchList,s=e.openSearch,o=e.isSearch,u=Object(n.useRef)(null);return Object(n.useEffect)((function(){s&&u.current.focus()}),[s,o]),i.a.createElement("div",{className:"search-area"},i.a.createElement("div",{className:"search-area--search"},i.a.createElement("form",{onSubmit:a},i.a.createElement("input",{type:"text",value:c,onChange:r,placeholder:"\uac80\uc0c9",ref:u}),i.a.createElement("button",{type:"submit"}))),o&&i.a.createElement("div",{className:"search-area--result"},0!==l.length?l.map((function(e){return i.a.createElement(h,{key:e.id.videoId,id:e.id.videoId,jacket:e.snippet.thumbnails.default,title:e.snippet.title,artist:e.snippet.channelTitle,getMovieInfo:t})})):i.a.createElement("p",{className:"nothing"},"\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")))},k=function(e){var t=e.getMovieInfo,a=e.openSearch,c=Object(n.useState)(""),r=Object(u.a)(c,2),l=r[0],m=r[1],g=Object(n.useState)([]),d=Object(u.a)(g,2),f=d[0],p=d[1],y=Object(n.useState)(!0),b=Object(u.a)(y,2),h=b[0],k=b[1],P={q:l,part:"snippet",key:"AIzaSyCV-tsD9TwSupW3pKjwGR33jKvsCpDPMu0",type:"video",maxResults:10,regionCode:"KR",videoDuration:"short"};P.q=encodeURI(P.q);var M="https://www.googleapis.com/youtube/v3/search?";for(var w in P)M+=w+"="+P[w]+"&";M=M.substr(0,M.length-1);var j=function(){var e=Object(o.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==l){e.next=4;break}return alert("\uac80\uc0c9\uac12\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 4:return e.prev=4,e.next=7,v.a.get(M);case 7:a=e.sent,console.log(a.data),200===a.status&&p(a.data.items),k(!0),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(4),e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(E,{getMovieInfo:t,onSubmitSearch:j,searchValue:l,onChangeSearch:function(e){m(e.target.value)},searchList:f,openSearch:a,isSearch:h})};g.a.config();var P=function(e){var t=e.getMovieInfo,a=(Object(n.useRef)(null),Object(n.useState)(!1)),c=Object(u.a)(a,2),r=c[0];c[1];return i.a.createElement("header",null,i.a.createElement("h1",{className:"logo"},i.a.createElement("img",{src:"/youtube-music-player/images/logo.svg",alt:"\ub85c\uace0"})),i.a.createElement("nav",{className:"menu"},i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("button",{type:"button",onClick:function(){alert("\uc900\ube44\uc911\uc785\ub2c8\ub2e4.")}},i.a.createElement(p.a,{icon:f.f}),"\xa0 \uac80\uc0c9\ud558\uae30"),r&&i.a.createElement(k,{getMovieInfo:t,openSearch:r})))),i.a.createElement("nav",{className:"link-list"},i.a.createElement("a",{href:"https://github.com/ddock4you/youtube-music-player",target:"_blank",rel:"noopener noreferrer"},i.a.createElement(p.a,{icon:d.a})),i.a.createElement("a",{href:"https://ddock4you.netlify.app/",target:"_blank",rel:"noopener noreferrer"},i.a.createElement(p.a,{icon:f.b})),i.a.createElement("a",{href:"http://ddock4you.ivyro.net/",target:"_blank",rel:"noopener noreferrer"},i.a.createElement(p.a,{icon:d.b}))))},M=a(11),w=function(e){var t=e.musicList,a=e.deleteMusicList,n=e.isPlaying,c=e.clickPlayMusic,r=e.playingMusicIndex;return i.a.createElement(i.a.Fragment,null,t.map((function(e,t){return i.a.createElement(M.b,{key:e.id,index:t,draggableId:String(e.id)},(function(l){return i.a.createElement("div",Object.assign({className:"music "+(t===r&&n?"playing":t!==r||n?"":"stop"),onClick:function(){c(e.key)},key:e.id,ref:l.innerRef},l.draggableProps,l.dragHandleProps),i.a.createElement("div",{className:"music--jacket"},i.a.createElement("p",null,i.a.createElement("img",{src:e.bigJacket,alt:e.title}),n?i.a.createElement(p.a,{icon:f.d}):i.a.createElement(p.a,{icon:f.c}))),i.a.createElement("div",{className:"music--info"},i.a.createElement("div",{className:"music--info__title"},e.title),i.a.createElement("div",{className:"music--info__singer"},e.singer)),i.a.createElement("div",{className:"music--duration"},e.duration),i.a.createElement("div",{className:"music--remove"},i.a.createElement(p.a,{icon:f.h,onClick:function(t){t.stopPropagation(),a(e.key)}})))}))})))},j=function(e){var t=e.musicList,a=e.deleteMusicList,n=e.isPlaying,c=e.setIsPlaying,r=e.nowPlayingMusic,l=e.setNowPlayingMusic,s=e.setCover,o=t.findIndex((function(e){return e.key===r.key}));return i.a.createElement(w,{musicList:t,deleteMusicList:a,isPlaying:n,clickPlayMusic:function(e){l(t.find((function(t){return t.key===e}))),s(t.find((function(t){return t.key===e})).bigJacket),c(!0)},playingMusicIndex:o})},N=(a(83),function(e){var t=e.musicList,a=e.deleteMusicList,n=e.nowPlayingMusic,c=e.setNowPlayingMusic,r=e.setCover,l=e.isPlaying,s=e.setIsPlaying,o=e.onDragEnd;return i.a.createElement("div",{className:"music-list"},i.a.createElement("p",{className:"music-list--title"},"\uae30\ubcf8\ubaa9\ub85d"),i.a.createElement(M.a,{onDragEnd:o},i.a.createElement(M.c,{droppableId:"droppable"},(function(e){return i.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef,className:"music-list--area"}),i.a.createElement(j,{musicList:t,deleteMusicList:a,isPlaying:l,setIsPlaying:s,nowPlayingMusic:n,setNowPlayingMusic:c,setCover:r}),e.placeholder)}))))}),S=function(e){var t=e.musicList,a=e.setMusicList,n=e.deleteMusicList,c=e.nowPlayingMusic,r=e.setNowPlayingMusic,l=e.setCover,s=e.isPlaying,o=e.setIsPlaying;return i.a.createElement(N,{musicList:t,deleteMusicList:n,nowPlayingMusic:c,setNowPlayingMusic:r,setCover:l,isPlaying:s,setIsPlaying:o,onDragEnd:function(e){if(e.destination){var n=function(e,t,a){var n=Array.from(e),i=n.splice(t,1),c=Object(u.a)(i,1)[0];return n.splice(a,0,c),n}(t,e.source.index,e.destination.index);a(n)}}})},O=(a(84),function(e){var t=e.inputUrl,a=e.onChangeUrl,n=e.url;return i.a.createElement("form",{className:"music-input",onSubmit:t},i.a.createElement("label",null,i.a.createElement("span",null,"YouTube URL :"),i.a.createElement("input",{type:"text",value:n,onChange:a})),i.a.createElement("button",{type:"submit"},i.a.createElement(p.a,{icon:f.e})))}),C=function(e){var t=e.getMovieinfo,a=e.musicList,n=e.url,c=e.setUrl;return i.a.createElement(O,{onChangeUrl:function(e){c(e.target.value)},url:n,inputUrl:function(e){if(e.preventDefault(),""!==n.trim||n){var i="";!0===n.includes("youtu.be")?i=n.split("/")[3].split("?")[0]:!1===n.includes("v=")?i=n:!0===n.includes("v=")&&(i=n.split("v=")[1]),a.find((function(e){return e.key===i}))?alert("\uc774\ubbf8 \ub4f1\ub85d\ub41c \uc74c\uc545\uc785\ub2c8\ub2e4."):(t(i),c(""))}else alert("YouTube URL\uc774\ub098 Video ID\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")}})},I=(a(85),a(48)),L=a.n(I),x=a(49),J=a.n(x);function _(e){var t=e.className,a=e.seconds;return i.a.createElement("time",{dateTime:"P".concat(Math.round(a),"S"),className:t},function(e){var t=new Date(1e3*e),a=t.getUTCHours(),n=t.getUTCMinutes(),i=D(t.getUTCSeconds());if(a)return"".concat(a,":").concat(D(n),":").concat(i);return"".concat(n,":").concat(i)}(a))}function D(e){return("0"+e).slice(-2)}a(106),a(107);var U=function(e){var t=e.nowPlayingMusic,a=e.isPlaying,n=e.mute,c=e.volume,r=e.handleDuration,l=e.player,s=e.handlePlay,o=e.handleProgress,u=e.played,m=e.handleSeekChange,g=e.handleSeekMouseUp,d=e.handlePrevPlay,y=e.handleNextPlay,v=e.playingMusicIndex,b=e.handlePlayMusic,h=e.duration,E=e.handleMute,k=e.handleVolumeChange;return i.a.createElement("div",{className:"nowplaying"},i.a.createElement(L.a,{className:"hidden",url:"https://www.youtube.com/watch?v=".concat(t.key),volume:n?0:c,onDuration:r,playing:a,ref:l,onPlay:s,onProgress:o}),i.a.createElement("div",{className:"duration--bar"},i.a.createElement(J.a,{step:1e-6,minValue:0,maxValue:.999999,value:u,onChange:m,onChangeComplete:g})),i.a.createElement("div",{className:"nowplaying--left-control"},i.a.createElement("button",{type:"button",onClick:function(){d(v)}},i.a.createElement(p.a,{icon:f.a})),i.a.createElement("button",{type:"button",className:"center",onClick:b},i.a.createElement(p.a,{icon:a?f.c:f.d})),i.a.createElement("button",{type:"button",onClick:function(){y(v)}},i.a.createElement(p.a,{icon:f.g})),i.a.createElement("p",{className:"nowplaying-content--duration"},i.a.createElement(_,{seconds:h*u})," /"," ",i.a.createElement(_,{seconds:h}))),i.a.createElement("div",{className:"nowplaying-content"},i.a.createElement("p",{className:"nowplaying-content--thumbnail"},i.a.createElement("img",{src:t.bigJacket,alt:t.title})),i.a.createElement("div",{className:"nowplaying-content--info"},i.a.createElement("p",{className:"nowplaying-content--info__title"},t.title),i.a.createElement("p",{className:"nowplaying-content--info__artist"},t.singer))),i.a.createElement("div",{className:"nowplaying--right-control"},i.a.createElement("button",{type:"button",className:"volume",onClick:E},i.a.createElement(p.a,{icon:n?f.j:c>=.5?f.k:f.i})),i.a.createElement("input",{type:"range",min:0,max:1,step:"0.1",value:c,onChange:k})))},R=function(e){var t=e.nowPlayingMusic,a=e.setNowPlayingMusic,c=e.musicList,r=e.setCover,l=e.isPlaying,s=e.setIsPlaying,o=Object(n.useState)(!1),m=Object(u.a)(o,2),g=m[0],d=m[1],f=Object(n.useState)(.5),p=Object(u.a)(f,2),y=p[0],v=p[1],b=Object(n.useState)(null),h=Object(u.a)(b,2),E=h[0],k=h[1],P=Object(n.useState)(0),M=Object(u.a)(P,2),w=M[0],j=M[1],N=Object(n.useState)(0),S=Object(u.a)(N,2),O=S[0],C=S[1],I=Object(n.useRef)(),L=c.findIndex((function(e){return e.key===t.key})),x=function(e){if(e+1===c.length)return s(!1),void alert("\ub05d \ubd80\ubd84\uc785\ub2c8\ub2e4.");r(c[e+1].bigJacket),a(c[e+1]),s(!0)};return i.a.createElement(U,{nowPlayingMusic:t,isPlaying:l,mute:g,volume:y,handleDuration:function(e){j(e)},player:I,handlePlay:function(){},handleProgress:function(e){C(e.played),1===e.played&&x(L)},played:O,handleSeekChange:function(e){C(parseFloat(e))},handleSeekMouseUp:function(e){I.current.seekTo(parseFloat(e)),s(!0)},handlePrevPlay:function(e){if(e-1===-1)return s(!1),void alert("\ucc98\uc74c \uc2dc\uc791\ub418\ub294 \ubd80\ubd84\uc785\ub2c8\ub2e4.");r(c[e-1].bigJacket),a(c[e-1]),s(!0)},handleNextPlay:x,playingMusicIndex:L,handlePlayMusic:function(){s(!l)},duration:w,handleMute:function(){!1===g?(d(!g),k(y),v(0)):(d(!g),v(E))},handleVolumeChange:function(e){v(e.target.value),"0"===e.target.value?d(!0):d(!1)}})};g.a.config();var A=function(e){var t=e.getMovieInfo,a=e.musicList,n=e.setMusicList,c=e.deleteMusicList,r=e.nowPlayingMusic,l=e.setNowPlayingMusic,s=e.cover,o=e.setCover,u=e.isPlaying,m=e.setIsPlaying,g=e.url,d=e.setUrl;return i.a.createElement("div",{className:"now-list"},i.a.createElement("div",{className:"cover"},i.a.createElement("div",{className:"cover-img"},i.a.createElement("img",{src:s,alt:"".concat(s," cover")}))),i.a.createElement("div",{className:"music-content"},i.a.createElement(C,{getMovieinfo:t,musicList:a,url:g,setUrl:d}),i.a.createElement(S,{musicList:a,setMusicList:n,deleteMusicList:c,nowPlayingMusic:r,setNowPlayingMusic:l,setCover:o,isPlaying:u,setIsPlaying:m})),i.a.createElement(R,{nowPlayingMusic:r,setNowPlayingMusic:l,musicList:a,setCover:o,isPlaying:u,setIsPlaying:m}))};g.a.config();var V=function(e){return v.a.get("https://www.googleapis.com/youtube/v3/videos?id=".concat(e,"&key=").concat("AIzaSyCV-tsD9TwSupW3pKjwGR33jKvsCpDPMu0","&part=snippet,contentDetails,statistics,status"))},T=[{base:{name:"\uae30\ubcf8",list:[{id:1585749814658,title:"dokiwa. (from dosii) - \uc0f4\ud478\uc758 \uc694\uc815",singer:"Mellowbeat Seeker",key:"_XSVrRK205Q",jacket:"https://i.ytimg.com/vi/_XSVrRK205Q/default.jpg",bigJacket:"https://i.ytimg.com/vi/_XSVrRK205Q/maxresdefault.jpg",duration:"03:31"},{id:1585749885524,title:"roon - \ucd94\uc5b5 \uc18d \ub108\uc5d0\uac8c (Prod. KARXHE)",singer:"Mellowbeat Seeker",key:"wJuNJS9_b7A",jacket:"https://i.ytimg.com/vi/wJuNJS9_b7A/default.jpg",bigJacket:"https://i.ytimg.com/vi/wJuNJS9_b7A/maxresdefault.jpg",duration:"03:08"},{id:1585749892614,title:"\ubbfc\ubbfc(minmin) - \ucc28\uadfc\ucc28\uadfc(Slowly)",singer:"Mellowbeat Seeker",key:"4zAZfAukW8g",jacket:"https://i.ytimg.com/vi/4zAZfAukW8g/default.jpg",bigJacket:"https://i.ytimg.com/vi/4zAZfAukW8g/maxresdefault.jpg",duration:"03:01"}]}}],K=a(50),z=a.n(K);var W=function(){var e=localStorage.getItem("localPlayList")?JSON.parse(localStorage.getItem("localPlayList")):T[0].base.list,t=Object(n.useState)(e),a=Object(u.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)(c[0]),m=Object(u.a)(l,2),g=m[0],d=m[1],f=Object(n.useState)(c[0].bigJacket),p=Object(u.a)(f,2),y=p[0],v=p[1],b=Object(n.useState)(!1),h=Object(u.a)(b,2),E=h[0],k=h[1],M=Object(n.useState)(""),w=Object(u.a)(M,2),j=w[0],N=w[1];Object(n.useEffect)((function(){localStorage.setItem("localPlayList",JSON.stringify(c))}),[c]);var S=function(e){var t=c.concat(e);r(t)},O=function(){var e=Object(o.a)(s.a.mark((function e(t){var a,n,i,r,l,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(t);case 3:if(a=e.sent,console.log(a),!(200===a.status&&a.data.items.length>=1)){e.next=20;break}return n={id:"",title:"",singer:"",key:"",jacket:"",bigJacket:"",duration:""},i=a.data.items[0].id,r=a.data.items[0].snippet,l=a.data.items[0].contentDetails,o=r.thumbnails,n.title=r.title,n.singer=r.channelTitle,n.key=i,n.id=(new Date).valueOf(),n.duration=z()(l.duration),n.jacket=o.default.url,n.bigJacket=o.maxres?o.maxres.url:o.standard?o.standard.url:o.high?o.high.url:o.medium?o.medium.url:o.default.url,console.log(c),e.abrupt("return",S(n));case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.error(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement(P,{getMovieInfo:O,setUrl:N}),i.a.createElement(A,{getMovieInfo:O,musicList:c,setMusicList:r,deleteMusicList:function(e){if(1!==c.length){var t=c.filter((function(t){return t.key!==e}));r(t)}else alert("\ud50c\ub808\uc774\ub9ac\uc2a4\ud2b8\uc5d0 \ucd5c\uc18c \ud558\ub098 \uc774\uc0c1\uc758 \uc74c\uc545\uc774 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4.")},nowPlayingMusic:g,setNowPlayingMusic:d,cover:y,setCover:v,isPlaying:E,setIsPlaying:k,url:j,setUrl:N}))};r.a.render(i.a.createElement(W,null),document.getElementById("root"))},30:function(e,t,a){},39:function(e,t,a){},51:function(e,t,a){e.exports=a(108)},63:function(e,t,a){},80:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){}},[[51,1,2]]]);
//# sourceMappingURL=main.b7a56918.chunk.js.map